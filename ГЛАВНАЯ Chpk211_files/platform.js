(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[81,38],{175:function(t,e,r){"use strict";r.r(e),r.d(e,"platformWorkerPromise",(function(){return p}));var n=r(0);function o(t){return Object(n.b)(this,void 0,void 0,(function(){var e,r;return Object(n.d)(this,(function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:return e=n.sent(),[4,new Response(e.body).blob()];case 2:return r=n.sent(),[2,URL.createObjectURL(r)]}}))}))}var a=window.viewerModel,i=a.requestUrl,c=a.siteAssets.clientTopology,u=a.siteFeatures,s=a.siteFeaturesConfigs.platform,l=u.includes("platform"),f=!i.includes("experiments=runPlatformInMainThread");var p=l&&f?function(){return Object(n.b)(this,void 0,void 0,(function(){var t,e,r,a,i;return Object(n.d)(this,(function(n){switch(n.label){case 0:return t="platform_create-worker started",performance.mark(t),(e=s.clientWorkerUrl).startsWith("http://localhost:4200/")||e.startsWith("https://bo.wix.com/suricate/")?[4,o(s.clientWorkerUrl)]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=e.replace(c.fileRepoUrl,"/_partials"),n.label=3;case 3:return a=new Worker(r),i="platform_create-worker ended",performance.mark(i),performance.measure("Create Platform Web Worker",t,i),[2,a]}}))}))}():Promise.resolve()},597:function(t,e,r){"use strict";(function(t,e){var n;(n=void 0!==t&&"[object process]"==={}.toString.call(t)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?e:self).Proxy||(n.Proxy=r(598)(),n.Proxy.revocable=n.Proxy.revocable)}).call(this,r(176),r(65))},598:function(t,e){t.exports=function(){var t,e=null;function r(t){return!!t&&("object"==typeof t||"function"==typeof t)}return(t=function(t,n){if(!r(t)||!r(n))throw new TypeError("Cannot create proxy with a non-object as target or handler");var o=function(){};e=function(){t=null,o=function(t){throw new TypeError("Cannot perform '"+t+"' on a proxy that has been revoked")}},setTimeout((function(){e=null}),0);var a=n;for(var i in n={get:null,set:null,apply:null,construct:null},a){if(!(i in n))throw new TypeError("Proxy polyfill does not support trap '"+i+"'");n[i]=a[i]}"function"==typeof a&&(n.apply=a.apply.bind(a));var c=this,u=!1,s=!1;"function"==typeof t?(c=function(){var e=this&&this.constructor===c,r=Array.prototype.slice.call(arguments);if(o(e?"construct":"apply"),e&&n.construct)return n.construct.call(this,t,r);if(!e&&n.apply)return n.apply(t,this,r);if(e){r.unshift(t);var a=t.bind.apply(t,r);return new a}return t.apply(this,r)},u=!0):t instanceof Array&&(c=[],s=!0);var l=n.get?function(t){return o("get"),n.get(this,t,c)}:function(t){return o("get"),this[t]},f=n.set?function(t,e){o("set");n.set(this,t,e,c)}:function(t,e){o("set"),this[t]=e},p=Object.getOwnPropertyNames(t),d={};p.forEach((function(e){if(!u&&!s||!(e in c)){var r={enumerable:!!Object.getOwnPropertyDescriptor(t,e).enumerable,get:l.bind(t,e),set:f.bind(t,e)};Object.defineProperty(c,e,r),d[e]=!0}}));var b=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(c,Object.getPrototypeOf(t)):c.__proto__?c.__proto__=t.__proto__:b=!1,n.get||!b)for(var g in t)d[g]||Object.defineProperty(c,g,{get:l.bind(t,g)});return Object.seal(t),Object.seal(c),c}).revocable=function(r,n){return{proxy:new t(r,n),revoke:e}},t}},879:function(t,e,r){"use strict";r.r(e),r.d(e,"site",(function(){return Q})),r.d(e,"page",(function(){return Y}));var n=r(44),o=r(34),a=r(5),i=r(298),c=r(0),u=r(9),s=r.n(u),l=r(10),f=r(7),p=r(25),d=r(279),b=r(177);var g=Object(f.h)([Object(f.f)(p.f,i.b),i.a,n.p,n.f,l.c,d.a,Object(f.e)(n.q),Object(f.e)(n.g),Object(f.g)(b.a)],(function(t,e,r,o,a,i,u,l,f){var p=u.map((function(t){return t.getSdkHandlers()}));function d(t){var e=t.getAllImplementersOf(n.q).map((function(t){return t.getSdkHandlers()}));return Object.assign.apply(Object,Object(c.g)([{}],e,p))}function b(){return Object.assign.apply(Object,Object(c.g)([{}],l.map((function(t){return t.platformEnvData}))))}var g=t.bootstrapData,v=t.landingPageId,m=t.isChancePlatformOnLandingPage,h=t.debug.disablePlatform;return e.initPlatformOnSite({platformEnvData:b(),appsUrlData:g.appsUrlData,componentSdksClientUrl:g.componentSdksClientUrl,componentSdksServerUrl:g.componentSdksServerUrl}),{appWillLoadPage:function(t){var n=t.pageId,u=t.contextId;return Object(c.b)(this,void 0,void 0,(function(){var t,l,p,O,j=this;return Object(c.d)(this,(function(y){switch(y.label){case 0:return h||n===v&&!m?[2]:((t=b()).bi.muteFedops||o.interactionStarted("platform"),l=Promise.all([a(u,n),a("masterPage")]).then((function(t){var e=Object(c.e)(t,2),r=e[0];return{masterPageHandlers:d(e[1]),pageHandlers:d(r)}})),p=function(t){var e=t.platformBootstrapData,r=t.siteFeaturesConfigs,n=t.currentContextId,o=t.currentPageId,a=t.platformEnvData;return Object(c.a)({currentPageId:o,currentContextId:n,platformEnvData:a,sdkFactoriesSiteFeatureConfigs:s.a.pickBy(r,(function(t,e){return e.toLowerCase().includes("wixcodesdk")}))},e)}({platformEnvData:t,platformBootstrapData:g,siteFeaturesConfigs:r.siteFeaturesConfigs,currentContextId:u,currentPageId:n}),O={updateProps:function(t){e.updateProps(t)},updateStyles:function(t){var r=s()(t).mapValues((function(t,e){return Object(c.a)(Object(c.a)({},i.getCompStyle(e)),t)})).value();e.updateStyles(r)},invokeSdkHandler:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return Object(c.b)(j,void 0,void 0,(function(){var n,a,i,f;return Object(c.d)(this,(function(p){switch(p.label){case 0:return[4,l];case 1:return n=p.sent(),a=n.masterPageHandlers,i=n.pageHandlers,f="masterPage"===t?a:i,s.a.isFunction(f[e])?[2,f[e].apply(f,Object(c.g)(r))]:(o.captureError(new Error("handler does not exist in page"),{tags:{platform:!0,handler:e},extra:{pageId:t,contextId:u},level:"info"}),[2])}}))}))}},f&&f.platform.logBootstrapMessage(u,p),[4,e.runPlatformOnPage(p,O)]);case 1:return y.sent(),t.bi.muteFedops||o.interactionEnded("platform"),[2]}}))}))}}})),v=function(){function t(){}return t.prototype.setItem=function(t,e){s.a.set(this,t,String(e))},t.prototype.getItem=function(t){return s.a.get(this,t)},t.prototype.removeItem=function(t){s.a.set(this,t,void 0)},t.prototype.getStorage=function(){return this},t}();var m="platform_app_";function h(t){var e,r,n={},o=Object.keys(t).filter((function(t){return s.a.startsWith(t,m)}));try{for(var a=Object(c.h)(o),i=a.next();!i.done;i=a.next()){var u=i.value;s.a.set(n,u.replace(m,""),t.getItem(u))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n}var O=Object(f.h)([n.b],(function(t){var e,r=function(t){try{return t.localStorage.setItem("",""),t.localStorage.removeItem(""),!0}catch(t){return!1}}(t),n=new v,o=r?(e=t,{setItem:function(t,r){e.sessionStorage.setItem(t,r)},getItem:function(t){return e.sessionStorage.getItem(t)},removeItem:function(t){e.sessionStorage.removeItem(t)},getStorage:function(){return e.sessionStorage}}):new v,a=r?function(t){return{setItem:function(e,r){t.localStorage.setItem(e,r)},getItem:function(e){return t.localStorage.getItem(e)},removeItem:function(e){t.localStorage.removeItem(e)},getStorage:function(){return t.localStorage}}}(t):new v;return{getSdkHandlers:function(){return{memorySetItem:function(t,e){n.setItem(m+t,e)},sessionSetItem:function(t,e){o.setItem(m+t,e)},localSetItem:function(t,e){a.setItem(m+t,e)}}},get platformEnvData(){return{storage:{storageInitData:{local:h(a.getStorage()),session:h(o.getStorage()),memory:h(n.getStorage())}}}}}})),j=r(325),y=r(278),w=r(31),I=Object(f.h)([w.a],(function(t){return{get platformEnvData(){return{consentPolicy:{details:t.getCurrentConsentPolicy(),header:t._getConsentPolicyHeader()}}}}})),P=Object(f.h)([Object(f.f)(p.f,i.b),a.g],(function(t,e){return{get platformEnvData(){var r=e.getParsedUrl().href;return{location:Object(c.a)(Object(c.a)({},t.bootstrapData.envData.location),{rawUrl:r})}}}})),S=Object(f.h)([n.b],(function(t){return{platformEnvData:{window:{isSSR:Object(j.e)(t),browserLocale:Object(j.a)(t),csrfToken:Object(j.c)(t)}}}})),k=Object(f.h)([n.b],(function(t){return{platformEnvData:{document:{referrer:Object(j.b)(t)}}}})),E=Object(f.h)([a.d,y.a,a.g],(function(t,e){return{get platformEnvData(){var r=e.getCurrentRouteInfo(),n=null==r?void 0:r.dynamicRouteData,o={routingInfo:t.getLinkUtilsRoutingInfo(),pageJsonFileName:(null==r?void 0:r.pageJsonFileName)||""};return n&&(o.dynamicRouteData=s.a.pick(n,["pageData","pageHeadData","publicData"])),{router:o}}}})),_=r(453),D=r(276),C=r(32),x=r(286),W=Object(f.h)([Object(f.f)(p.f,i.b),n.b,_.b,C.a,n.p,a.g,D.a,y.a,Object(f.g)(x.c)],(function(t,e,r,n,o,a,i,u,l){var f=0,p=o.mode,d=o.rollout,b=o.fleetConfig,g=Object(c.a)(Object(c.a)(Object(c.a)({},t.bootstrapData.envData.bi),s.a.omit(r,"checkVisibility")),{visitorId:n.getVisitorId(),siteMemberId:n.getSiteMemberId(),viewerVersion:e.thunderboltVersion,rolloutData:d,fleetConfig:b});return{get platformEnvData(){var t,r=null===(t=u.getCurrentRouteInfo())||void 0===t?void 0:t.pageId,n=a.getParsedUrl(),o=n.href,s=n.searchParams,d=s.has("suppressbi")&&"false"!==s.get("suppressbi");if(!r)return{bi:{pageData:{pageNumber:1},rolloutData:{},fleetConfig:{},muteFedops:p.qa||d}};var b=null==l?void 0:l.getCurrentOrPendingPopupId(),v=!!b;v||f++;var m={pageNumber:f,pageId:b||r,pageUrl:o,isLightbox:v},h=(Object(j.e)(e)||p.qa||d)&&!i.sv_reportTrace,O=p.qa||d||v||f>1&&!i["specs.thunderbolt.do_not_mute_apps_fedops_after_in_app_navigation"];return{bi:Object(c.a)(Object(c.a)({},g),{pageData:m,muteBi:h,muteFedops:O})}}}})),F=r(455),H=r(82),U=Object(f.h)([D.a,F.a,n.p],(function(t,e,r){var n=r.siteAssets,o={deviceInfo:r.deviceInfo,siteAssetsClientConfig:e.getInitConfig(),fallbackStrategy:Object(H.a)(t,"clientWorker")||(t["specs.thunderbolt.shouldEnableSACFallbackForClientWorker"]?"enable":"disable")};return{platformEnvData:{siteAssets:Object(c.a)(Object(c.a)({},n),{clientInitParams:o})}}})),R=r(105),L=r(106),A=Object(f.h)([R.a,L.a,n.k,n.h,n.a],(function(t,e,r,n,o){function a(t){if(void 0===t&&(t=[]),t[0]&&t[0].nativeEvent instanceof Event){var e=Object(c.e)(t),r=e[0],n=e.slice(1),o=r.nativeEvent,a=s.a.omitBy(r,s.a.isObject);return a.nativeEvent=s.a.omitBy(o,s.a.isObject),Object(c.g)([a],n)}return t}return{getSdkHandlers:function(){var i=this;return{invokeCompRefFunction:function(e,r,n){return Object(c.b)(i,void 0,void 0,(function(){var o;return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,t.getCompRefById(e)];case 1:return[2,(o=a.sent())[r].apply(o,Object(c.g)(n))]}}))}))},registerEvent:function(t,i,u){var s=this;["onViewportLeave","onViewportEnter"].includes(i)?r[i](t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(c.b)(s,void 0,void 0,(function(){return Object(c.d)(this,(function(e){switch(e.label){case 0:return[4,o];case 1:return e.sent(),u.apply(void 0,Object(c.g)(t)),[2]}}))}))})):e.register(t,i,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(c.b)(s,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(r){switch(r.label){case 0:return e=a(t),[4,n.waitForPlatformPropsSyncToApply()];case 1:return r.sent(),u(e),[2]}}))}))}))}}}}})),q=r(107),T=function(){var t=window.document.getElementById("WIX_ADS");return t?{rootMargin:"-"+t.offsetHeight+"px 0px 0px 0px"}:{}},V=Object(f.h)([d.a,q.a,Object(f.g)(x.a)],(function(t,e,r){var n,o=[],a=function(t){return document.querySelectorAll("#"+t+', [id^="'+t+'__"]')},i=function(t){return Object(c.b)(void 0,void 0,void 0,(function(){var r;return Object(c.d)(this,(function(n){switch(n.label){case 0:return(r=a(t)).length?[2,r]:[4,e.waitForComponentToRender(t)];case 1:return n.sent(),[2,a(t)]}}))}))};return{onViewportEnter:function(e,r){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,i(e)];case 1:a.sent().forEach((function(e){return function(e){var r=e.target,a=e.cb,i=e.displayedId;n=n||T();var c=new window.IntersectionObserver((function(e){e.filter((function(t){return t.target.id===i})).forEach((function(e){var r=e.isIntersecting,n=t.isHidden(i);r&&!n&&a([{type:"viewportEnter",compId:i}])}))}),n);o.push(c),c.observe(r)}({target:e,cb:r,displayedId:e.id})})),a.label=2;case 2:return[2]}}))}))},onViewportLeave:function(e,r){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,i(e)];case 1:a.sent().forEach((function(e){return function(e){var r=e.target,a=e.cb,i=e.displayedId;n=n||T();var c=!0,u=new window.IntersectionObserver((function(e){e.filter((function(t){return t.target.id===i})).forEach((function(e){var r=e.isIntersecting,n=t.isHidden(i);r||n||c||a([{type:"viewportLeave",compId:i}]),c=!1}))}),n);o.push(u),u.observe(r)}({target:e,cb:r,displayedId:e.id})})),a.label=2;case 2:return[2]}}))}))},appWillLoadPage:function(t){var e=t.pageId;(null==r?void 0:r.isPopupPage(e))||o.forEach((function(t){return t.disconnect()}))}}})),B=Object(f.h)([],(function(){var t=[];return{getSdkHandlers:function(){return{registerLocationOnChangeHandler:function(e){t.push(e)}}},onUrlChange:function(e){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(r){return t.forEach((function(t){return t(e.href)})),[2]}))}))}}}));r(597);var M,N=r(529),J=r(460),X=r(23),z=r(175),G=Object(f.h)([X.d,n.a,J.b,n.b,d.a],(function(t,e,r,n,o){return{initPlatformOnSite:function(t){return Object(c.b)(this,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,z.platformWorkerPromise];case 1:return e=r.sent(),(0,Object(N.e)(e).initPlatformOnSite)(t),[2]}}))}))},runPlatformOnPage:function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var r;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,z.platformWorkerPromise];case 1:return r=n.sent(),[2,(0,Object(N.e)(r).runPlatformOnPage)(t,Object(N.b)(e.updateProps),Object(N.b)(e.invokeSdkHandler),Object(N.b)(e.updateStyles))]}}))}))},updateProps:function(n){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,t.getWarmupData("platform")];case 1:return o.sent()?[4,e]:[3,3];case 2:o.sent(),o.label=3;case 3:return r.update(n),[2]}}))}))},updateStyles:function(r){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,t.getWarmupData("platform")];case 1:return n.sent()?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return o.set(r),[2]}}))}))},appWillRenderFirstPage:function(){return Object(c.b)(this,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,t.getWarmupData("platform")];case 1:return null==(e=n.sent())||e.ssrPropsUpdates.forEach(r.update),null==e||e.ssrStyleUpdates.forEach(o.set),[2]}}))}))}}})),K=(M=G,{page:function(t){t(n.q,a.f).to(B)},site:function(t){t(n.j,o.a.AppWillLoadPageHandler).to(g),t(n.i,n.q,n.g).to(O),t(n.q).to(A),t(n.k,o.a.AppWillLoadPageHandler).to(V),t(n.g).to(I),t(n.g).to(P),t(n.g).to(S),t(n.g).to(k),t(n.g).to(W),t(n.g).to(E),t(n.g).to(U),t(i.a,o.a.AppWillRenderFirstPageHandler).to(M),t(n.l).toConstantValue(r(175))}}),Q=K.site,Y=K.page}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/platform.61d5abec.chunk.min.js.map